# תיקון באג - כפתור "מנתח" תקוע

## הבעיה

כאשר משתמש:
1. מדביק טקסט ולוחץ "נתח רשימה"
2. המודאל עובר למסך התצוגה המקדימה
3. משתמש מבטל ויוצא מהמודאל
4. פותח שוב את המודאל

**התוצאה:** הכפתור נשאר במצב "מנתח..." ולא ניתן ללחוץ עליו שוב.

## הסיבה

ה-state `isAnalyzing` לא התאפס כאשר המודאל נסגר, כי `onClose()` לא שינה את ה-state.

## הפתרון

הוספתי `useEffect` שמאפס את `isAnalyzing` כל פעם שהמודאל נסגר:

```typescript
useEffect(() => {
  if (!isOpen) {
    setIsAnalyzing(false);
  }
}, [isOpen]);
```

## איך זה עובד?

1. כש-`isOpen` משתנה מ-`true` ל-`false` (המודאל נסגר)
2. ה-`useEffect` מזהה את השינוי
3. מאפס את `isAnalyzing` ל-`false`
4. בפעם הבאה שהמודאל נפתח, הכפתור במצב רגיל

## קובץ ששונה

- ✅ `v3cv2/src/components/modals/TextImportModal.tsx`
  - הוספת import של `useEffect`
  - הוספת hook לאיפוס state

## תוצאה

✅ הכפתור חוזר למצב רגיל אחרי סגירת המודאל  
✅ אפשר להשתמש בתכונה שוב ושוב ללא בעיות  
✅ לא צריך restart של האפליקציה  

**הבאג תוקן!** 🐛→✅

