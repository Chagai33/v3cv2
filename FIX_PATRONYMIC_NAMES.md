# ×ª×™×§×•×Ÿ ×§×¨×™×˜×™ - ×©×ž×™×¨×ª "×‘×Ÿ"/"×‘×¨"/"×‘×ª" ×›×—×œ×§ ×ž×”×©×

## ðŸ› ×”×‘×¢×™×” ×©×”×ž×©×ª×ž×© ×’×™×œ×”:

×©×ž×•×ª ×¢×‘×¨×™×™× × ×¤×•×¦×™× **×œ× ×¢×‘×“×•**:

```
âŒ "×‘×Ÿ ×—×ž×• 15/03/1990 ×–×›×¨"
   â†’ ×©×: "×—×ž×•" (××™×¤×” "×‘×Ÿ"?!)

âŒ "×‘×Ÿ ×‘×¡×ª 22/05/1985 × ×§×‘×”"
   â†’ ×©×: "×‘×¡×ª" (××™×¤×” "×‘×Ÿ"?!)

âŒ "×‘×Ÿ ×¦×™×•×Ÿ ×›×”×Ÿ 10/10/2000 ×–×›×¨"
   â†’ ×©×: "×¦×™×•×Ÿ ×›×”×Ÿ" (××™×¤×” "×‘×Ÿ"?!)
```

**×”×‘×¢×™×”:** ×”×ž×¢×¨×›×ª ×”×¡×™×¨×” ××ª "×‘×Ÿ"/"×‘×¨"/"×‘×ª" ×›×™ ×”× ×ž×•×¤×™×¢×™× ×‘-`GENDER_KEYWORDS`!

---

## ðŸ” ×œ×ž×” ×–×” ×§×¨×”?

### ×”×§×•×“ ×”×™×©×Ÿ:

```typescript
const GENDER_KEYWORDS = {
  male: ['×–×›×¨', '×–', '×‘×Ÿ', 'male', 'm', 'boy'],  // â† "×‘×Ÿ" ×›××Ÿ!
  female: ['× ×§×‘×”', '× ', '×‘×ª', 'female', 'f', 'girl'],  // â† "×‘×ª" ×›××Ÿ!
};

// ×‘×¤×•× ×§×¦×™×” parseLine:
const allGenderKeywords = [...GENDER_KEYWORDS.male, ...GENDER_KEYWORDS.female];
words = words.filter(word => !allGenderKeywords.includes(word));
// â† ×–×” ×ž×¡×™×¨ ××ª "×‘×Ÿ"/"×‘×¨"/"×‘×ª" ×ž×›×œ ×ž×§×•×!
```

**×œ×ž×” "×‘×Ÿ" ×•"×‘×ª" ×‘-GENDER_KEYWORDS?**
- ×›×™ ×‘×”×§×©×¨×™× ×ž×¡×•×™×ž×™× ×”× ×ž×¦×™×™× ×™× ×ž×’×“×¨: "×‘×Ÿ 20" = ×–×›×¨, "×‘×ª 20" = × ×§×‘×”
- ××‘×œ ×”× ×’× ×—×œ×§ ×ž×©×ž×•×ª: "×‘×Ÿ ×—×ž×•", "×‘×ª ×©×‘×¢"!

---

## âœ… ×”×¤×ª×¨×•×Ÿ: ×œ×•×’×™×§×” ×—×›×ž×”

**×›×œ×œ ×—×“×©:** ××œ ×ª×¡×™×¨ "×‘×Ÿ"/"×‘×¨"/"×‘×ª" ×× ×”× **×‘×ž×™×œ×” ×¨××©×•× ×” ××• ×©× ×™×™×”**!

### ×”×§×•×“ ×”×—×“×©:

```typescript
// Remove gender keywords - BUT keep "×‘×Ÿ"/"×‘×¨"/"×‘×ª" if they're the first or second word
const patronymics = ['×‘×Ÿ', '×‘×¨', '×‘×ª'];
const allGenderKeywords = [...GENDER_KEYWORDS.male, ...GENDER_KEYWORDS.female]
  .map(k => k.toLowerCase())
  .filter(k => !patronymics.includes(k)); // Don't auto-remove patronymics

words = words.filter((word, index) => {
  const lowerWord = word.toLowerCase();
  
  // If it's "×‘×Ÿ"/"×‘×¨"/"×‘×ª" in first or second position, keep it!
  if (patronymics.includes(lowerWord) && index <= 1) {
    return true;  // â† ×©×ž×•×¨ ××•×ª×!
  }
  
  // Otherwise, remove if it's a gender keyword
  return !allGenderKeywords.includes(lowerWord);
});
```

---

## ðŸŽ¯ ××™×š ×–×” ×¢×•×‘×“ ×¢×›×©×™×•?

### ×“×•×’×ž××•×ª - ×©×ž×•×ª ×©×”× "×‘×Ÿ":

```
âœ… "×‘×Ÿ ×—×ž×• 15/03/1990 ×–×›×¨"
   words: ["×‘×Ÿ", "×—×ž×•"]
   index 0: "×‘×Ÿ" â†’ keep (first position!)
   â†’ ×©×: "×‘×Ÿ ×—×ž×•" âœ…

âœ… "×‘×Ÿ ×‘×¡×ª 22/05/1985 × ×§×‘×”"
   words: ["×‘×Ÿ", "×‘×¡×ª"]
   index 0: "×‘×Ÿ" â†’ keep (first position!)
   â†’ ×©×: "×‘×Ÿ ×‘×¡×ª" âœ…

âœ… "×‘×Ÿ ×¦×™×•×Ÿ ×›×”×Ÿ 10/10/2000 ×–×›×¨"
   words: ["×‘×Ÿ", "×¦×™×•×Ÿ", "×›×”×Ÿ"]
   index 0: "×‘×Ÿ" â†’ keep (first position!)
   â†’ ×©× ×¤×¨×˜×™: "×‘×Ÿ ×¦×™×•×Ÿ", ×©× ×ž×©×¤×—×”: "×›×”×Ÿ" âœ…

âœ… "×‘×¨ ×›×•×›×‘× ×œ×•×™ 05/06/1995 male"
   words: ["×‘×¨", "×›×•×›×‘×", "×œ×•×™"]
   index 0: "×‘×¨" â†’ keep (first position!)
   â†’ ×©× ×¤×¨×˜×™: "×‘×¨ ×›×•×›×‘×", ×©× ×ž×©×¤×—×”: "×œ×•×™" âœ…

âœ… "×‘×ª ×©×‘×¢ ×›×”×Ÿ 08/08/1988 × ×§×‘×”"
   words: ["×‘×ª", "×©×‘×¢", "×›×”×Ÿ"]
   index 0: "×‘×ª" â†’ keep (first position!)
   â†’ ×©× ×¤×¨×˜×™: "×‘×ª ×©×‘×¢", ×©× ×ž×©×¤×—×”: "×›×”×Ÿ" âœ…
```

### ×“×•×’×ž××•×ª - "×‘×Ÿ" ×›×¤×˜×¨×•× ×™×ž×™×§×•×Ÿ (×¦×¨×™×š ×œ×”×™×©××¨!):

```
âœ… "×ž×©×” ×‘×Ÿ ×™×•×¡×£ ×›×”×Ÿ 15/03/1990 ×–×›×¨"
   words: ["×ž×©×”", "×‘×Ÿ", "×™×•×¡×£", "×›×”×Ÿ"]
   index 1: "×‘×Ÿ" â†’ keep (second position!)
   â†’ parseNames ×™×˜×¤×œ ×‘×–×”: "×ž×©×” ×‘×Ÿ ×™×•×¡×£" + "×›×”×Ÿ" âœ…

âœ… "×©×¨×” ×‘×ª ×¨×—×œ ×œ×•×™ 22/05/1985 × ×§×‘×”"
   words: ["×©×¨×”", "×‘×ª", "×¨×—×œ", "×œ×•×™"]
   index 1: "×‘×ª" â†’ keep (second position!)
   â†’ parseNames: "×©×¨×” ×‘×ª ×¨×—×œ" + "×œ×•×™" âœ…
```

### ×“×•×’×ž××•×ª - "×‘×Ÿ" ×¨×—×•×§ ×ž×”×ª×—×™×œ×” (×ž×™×œ×•×ª ×ž×¤×ª×—, ×œ×”×¡×™×¨):

```
âœ… "×“×•×“ ×›×”×Ÿ ×‘×Ÿ 25 ×–×›×¨ 10/10/2000"
   words: ["×“×•×“", "×›×”×Ÿ", "×‘×Ÿ", "25"]
   index 2: "×‘×Ÿ" â†’ remove (not in first 2 positions!)
   â†’ ×©×: "×“×•×“ ×›×”×Ÿ" (25 ×™×•×¡×¨ ×’×) âœ…
```

---

## ðŸ“Š ×ž×‘×—× ×™ ×§×¦×” - ×¢×›×©×™×• ×¢×•×‘×“!

| ×§×œ×˜ | ×©× ×¤×¨×˜×™ | ×©× ×ž×©×¤×—×” | ×¡×˜×˜×•×¡ |
|-----|---------|----------|-------|
| ×‘×Ÿ ×—×ž×• | ×‘×Ÿ ×—×ž×• | - | âœ… |
| ×‘×Ÿ ×‘×¡×ª ×œ×•×™ | ×‘×Ÿ ×‘×¡×ª | ×œ×•×™ | âœ… |
| ×‘×Ÿ ×¦×™×•×Ÿ ×›×”×Ÿ | ×‘×Ÿ ×¦×™×•×Ÿ | ×›×”×Ÿ | âœ… |
| ×‘×¨ ×›×•×›×‘× | ×‘×¨ ×›×•×›×‘× | - | âœ… |
| ×‘×ª ×©×‘×¢ ×›×”×Ÿ | ×‘×ª ×©×‘×¢ | ×›×”×Ÿ | âœ… |
| ×ž×©×” ×‘×Ÿ ×™×•×¡×£ ×›×”×Ÿ | ×ž×©×” ×‘×Ÿ ×™×•×¡×£ | ×›×”×Ÿ | âœ… |
| ×©×¨×” ×‘×ª ×¨×—×œ ×œ×•×™ | ×©×¨×” ×‘×ª ×¨×—×œ | ×œ×•×™ | âœ… |

**×¢×›×©×™×• ×”×›×œ ×¢×•×‘×“!** ðŸŽ‰

---

## ðŸŽ“ ×œ×ž×™×“×”:

**×”××™×–×•×Ÿ ×”× ×›×•×Ÿ:**
1. âœ… **×©×ž×•×¨** "×‘×Ÿ"/"×‘×¨"/"×‘×ª" ×‘×ž×™×§×•×ž×™× 0-1 (×—×œ×§ ×ž×”×©×)
2. âœ… **×–×”×”** "×‘×Ÿ"/"×‘×¨"/"×‘×ª" ×‘×›×œ ×ž×§×•× (×œ×ž×’×“×¨)
3. âœ… **×”×¡×¨** "×‘×Ÿ" ×¨×§ ×× ×”×•× ×¨×—×•×§ ×ž×”×ª×—×™×œ×” (age/other)

**parseNames ×›×‘×¨ ×™×•×“×¢ ×ž×” ×œ×¢×©×•×ª:**
- ×× "×‘×Ÿ"/"×‘×¨" ×‘×ž×™×§×•× 1 â†’ ×–×” ×¤×˜×¨×•× ×™×ž×™×§×•×Ÿ, ×™×˜×¤×œ ×‘×–×”
- ×× "×‘×Ÿ"/"×‘×¨" ×‘×ž×™×§×•× 0 â†’ ×–×” ×—×œ×§ ×ž×”×©× ×”×¤×¨×˜×™

---

## ðŸ“ ×§×•×‘×¥ ×©×©×•× ×”:

- âœ… `v3cv2/src/utils/textParser.ts` - `parseLine()` function
  - ×”×•×¡×¤×ª ×œ×•×’×™×§×” ×œ×©×ž×™×¨×ª patronymics ×‘×ž×™×§×•×ž×™× 0-1

**×ª×•×“×” ×œ×ž×©×ª×ž×© ×¢×œ ×”×“×™×•×•×— - ×–×” ×ª×™×§×•×Ÿ ×§×¨×™×˜×™!** ðŸ™

